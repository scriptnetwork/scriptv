//===-                           S C R I P T  T.V.
//===-                           https://script.tv
//===-
//===-            Copyright (C) 2017-2024 Script Network
//===-            Copyright (C) 2017-2024 manicberet@gmail.com
//===-
//===-                      GNU GENERAL PUBLIC LICENSE
//===-                       Version 3, 29 June 2007
//===-
//===-    This program is free software: you can redistribute it and/or modify
//===-    it under the terms of the GPLv3 License as published by the Free
//===-    Software Foundation.
//===-
//===-    This program is distributed in the hope that it will be useful,
//===-    but WITHOUT ANY WARRANTY; without even the implied warranty of
//===-    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
//===-
//===-    You should have received a copy of the General Public License
//===-    along with this program, see LICENCE file.
//===-    see https://www.gnu.org/licenses
//===-
//===----------------------------------------------------------------------------
//===-
//MIM  ******************************************************************************
//MIM  EDITABLE FILE. Changes on this file will NOT be overwritten by MIM.
//MIM  The first version of this file was produced by MIM. You can edit it afterwards.
//MIM
//MIM  Source:
//MIM    mim file: core0/core0_6/core0_65/us/gui/app/mim.h
//MIM  kickoff code hash: edsLp1UCSorodAndYit9Ttjs1rF (change this hash to force a review)
//MIM  ******************************************************************************
package us.cash;
import android.app.Application;                                                                // Application
import java.util.ArrayList;                                                                    // ArrayList
import java.util.Arrays;                                                                       // Arrays
import android.media.AudioManager;                                                             // AudioManager
import java.net.Authenticator;                                                                 // Authenticator
import us.gov.io.blob_reader_t;                                                                // blob_reader_t
import static us.gov.io.types.blob_t;                                                          // blob_t
import java.io.BufferedInputStream;                                                            // BufferedInputStream
import java.io.BufferedReader;                                                                 // BufferedReader
import us.gov.socket.busyled_t;                                                                // busyled_t
import java.io.ByteArrayOutputStream;                                                          // ByteArrayOutputStream
import java.nio.charset.Charset;                                                               // Charset
import java.util.Collections;                                                                  // Collections
import java.util.Comparator;                                                                   // Comparator
import java.util.concurrent.locks.Condition;                                                   // Condition
import android.content.res.Configuration;                                                      // Configuration
import android.net.ConnectivityManager;                                                        // ConnectivityManager
import android.content.Context;                                                                // Context
import us.gov.socket.datagram;                                                                 // datagram
import java.util.Date;                                                                         // Date
import android.app.DialogFragment;                                                             // DialogFragment
import android.util.DisplayMetrics;                                                            // DisplayMetrics
import android.os.Environment;                                                                 // Environment
import java.io.File;                                                                           // File
import java.io.FileNotFoundException;                                                          // FileNotFoundException
import java.io.FileOutputStream;                                                               // FileOutputStream
import androidx.core.content.FileProvider;                                                     // FileProvider
import java.security.GeneralSecurityException;                                                 // GeneralSecurityException
import static us.gov.crypto.ripemd160.hash_t;                                                  // hash_t
import java.net.HttpURLConnection;                                                             // HttpURLConnection
import static us.gov.id.types.*;                                                               // *
import static us.gov.socket.types.*;                                                           // *
import static us.stdint.*;                                                                     // *
import static us.tuple.*;                                                                      // *
import java.io.InputStream;                                                                    // InputStream
import java.io.InputStreamReader;                                                              // InputStreamReader
import android.content.Intent;                                                                 // Intent
import java.io.IOException;                                                                    // IOException
import static us.ko.is_ko;                                                                     // is_ko
import org.json.JSONArray;                                                                     // JSONArray
import org.json.JSONException;                                                                 // JSONException
import org.json.JSONObject;                                                                    // JSONObject
import java.security.KeyPair;                                                                  // KeyPair
import us.ko;                                                                                  // ko
import java.util.Locale;                                                                       // Locale
import java.util.concurrent.locks.Lock;                                                        // Lock
import android.util.Log;                                                                       // Log
import android.os.Looper;                                                                      // Looper
import android.view.Menu;                                                                      // Menu
import android.view.MenuItem;                                                                  // MenuItem
import android.net.NetworkInfo;                                                                // NetworkInfo
import static us.ko.ok;                                                                        // ok
import java.io.OutputStream;                                                                   // OutputStream
import java.io.OutputStreamWriter;                                                             // OutputStreamWriter
import us.pair;                                                                                // pair
import java.net.PasswordAuthentication;                                                        // PasswordAuthentication
import android.preference.PreferenceManager;                                                   // PreferenceManager
import java.io.PrintStream;                                                                    // PrintStream
import us.wallet.protocol;                                                                     // protocol
import us.wallet.trader.qr_t;                                                                  // qr_t
import java.util.concurrent.locks.ReentrantLock;                                               // ReentrantLock
import android.content.res.Resources;                                                          // Resources
import android.content.SharedPreferences;                                                      // SharedPreferences
import android.os.StrictMode;                                                                  // StrictMode
import us.string;                                                                              // string
import android.net.wifi.SupplicantState;                                                       // SupplicantState
import android.telephony.TelephonyManager;                                                     // TelephonyManager
import java.util.Timer;                                                                        // Timer
import java.util.TimerTask;                                                                    // TimerTask
import android.widget.Toast;                                                                   // Toast
import android.media.ToneGenerator;                                                            // ToneGenerator
import java.util.TreeMap;                                                                      // TreeMap
import java.io.UnsupportedEncodingException;                                                   // UnsupportedEncodingException
import java.net.URL;                                                                           // URL
import android.net.wifi.WifiInfo;                                                              // WifiInfo
import android.net.wifi.WifiManager;                                                           // WifiManager
import android.view.View;                                                                      // View
import android.widget.TextView;                                                                // TextView
import androidx.appcompat.app.AlertDialog;                                                     // AlertDialog
import androidx.appcompat.view.ContextThemeWrapper;                                            // ContextThemeWrapper
import android.content.DialogInterface;                                                        // DialogInterface
import android.widget.LinearLayout;                                                            // LinearLayout
import android.view.ViewGroup;
import java.text.NumberFormat;                                                                 // NumberFormat
import us.cash.scr.*;
import android.media.projection.MediaProjection;
import android.graphics.Bitmap;
import android.media.Image;
import android.media.projection.MediaProjectionManager;
import android.media.ImageReader;
import android.graphics.PixelFormat;
import android.hardware.display.VirtualDisplay;
import android.hardware.display.DisplayManager;
import java.nio.ByteBuffer;
import android.media.projection.MediaProjection;
import android.os.Handler;
import androidx.core.view.GravityCompat;                                                       // GravityCompat

public class app0 extends app00 {

    private static void log(final String line) {                              //--strip
        CFG.log_android("app0: " + line);          //--strip
    }                                                                         //--strip

    public app0() {
        super();
    }

    @Override public void onCreate() {
        super.onCreate();
        log("onCreate"); //--strip
    }

    public boolean on_main_resume() { //true if it launches an activity
        assert_ui_thread(); //--strip
        return false;
    }

    public void runOnUiThread(Runnable uitask) {
        assert_worker_thread(); //--strip
        if (main == null) {
            log("main is null"); //--strip
            assert false; //--strip
            return;
        }
        main.runOnUiThread(uitask);
    }


    public void call_human(int code, final String info) {
/*
        switch(code) {
            case 1: //trade #tid received a chat update
                String tid = info;
                log("CALL_HUMAN "+code+" "+info); //--strip
                show_notification(1, info);
                //TODO: ... Show ! icon on every view there a tid is shown
            break;
       }
*/
    }

    public void launch_about() {
        assert_ui_thread(); //--strip
        log("launching about... "); //--strip
        assert main != null;
        Intent intent = new Intent(getApplicationContext(), about.class);
        //intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT); //single instance
        main.startActivity(intent);
    }

    public void launch_settings() {
        assert_ui_thread(); //--strip
        log("launching language..."); //--strip
        assert main != null;
        Intent intent = new Intent(getApplicationContext(), settings.class);
        //intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        intent.addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT); //single instance
        main.startActivity(intent);
    }

    @Override protected void exit_app() {
        if (active_ac != main) {
            if (active_ac != null) {
                active_ac.finishAffinity();
            }
        }
        if (main != null) {
            main.finishAffinity();
        }
        System.exit(0);
    }

    public boolean on_menu(final int id) {
        log("on_menu " + id); //--strip
        if (id == R.raw.gear) {
            new Handler().postDelayed(new Runnable() {
                    @Override public void run() {
                        launch_settings();
                    }
                }, 100);
        }
        else if (id == R.raw.info) {
            new Handler().postDelayed(new Runnable() {
                    @Override public void run() {
                        launch_about();
                    }
                }, 100);
        }
        else {
            return super.on_menu(id);
        }
        return true;
    }

    public ko backend_ready() {
        return ok;
    }

    main_activity main = null;



}

